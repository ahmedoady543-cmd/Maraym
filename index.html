<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>إلى مريم</title>
    <style>
        body { 
            margin: 0; padding: 0; font-family: 'Arial', sans-serif; 
            background: linear-gradient(45deg, #ff9a9e 0%, #fad0c4 99%, #fad0c4 100%); 
            height: 100vh; display: flex; justify-content: center; align-items: center; 
            overflow: hidden; color: #4a4a4a; position: relative;
        }

        .hearts-bg {
            position: absolute; width: 100%; height: 100%;
            top: 0; left: 0; overflow: hidden; z-index: 1;
        }

        .heart-shape {
            position: absolute; color: rgba(255, 77, 77, 0.2);
            font-size: 20px; animation: floatHearts linear infinite;
        }

        @keyframes floatHearts {
            0% { transform: translateY(110vh) rotate(0deg); opacity: 0; }
            20% { opacity: 0.6; }
            100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
        }

        .container { 
            text-align: center; background: rgba(255, 255, 255, 0.92); 
            padding: 40px 30px; border-radius: 30px; 
            box-shadow: 0 15px 35px rgba(0,0,0,0.1); 
            max-width: 85%; z-index: 10;
            position: relative; transition: all 0.5s ease;
        }

        h2 { font-size: 1.4rem; margin-bottom: 25px; line-height: 1.4; animation: fadeIn 1s; }

        .btn { 
            background-color: #ff4d4d; color: white; border: none; 
            padding: 14px 35px; margin: 10px; border-radius: 50px; 
            cursor: pointer; font-size: 18px; font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(255, 77, 77, 0.3);
            display: inline-block;
        }

        .btn:hover { transform: scale(1.05); }

        #step2, #step3, #step4, #final-section { display: none; opacity: 0; }

        #final-section { overflow-y: auto; max-height: 90vh; padding: 30px 20px; width: 90%; }
        
        img { 
            width: 100%; max-width: 200px; border-radius: 20px; 
            border: 4px solid #fff; box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            margin-bottom: 20px; 
        }

        /* تنسيق مشغل الموسيقى */
        .audio-player {
            margin: 20px 0;
            background: #f8f8f8;
            padding: 10px;
            border-radius: 50px;
            border: 1px solid #eee;
        }
        audio { width: 100%; height: 40px; }

        .poetry { 
            white-space: pre-line; line-height: 2; 
            font-weight: bold; text-align: center; font-size: 1.1rem;
            margin-top: 20px;
        }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .snowflake { 
            position: fixed; top: -10px; background: white; 
            border-radius: 50%; z-index: 5; animation: fall linear infinite; 
        }

        @keyframes fall { to { transform: translateY(105vh); } }
    </style>
</head>
<body>

    <div class="hearts-bg" id="heartsContainer"></div>

    <div id="step1" class="container" style="display: block; opacity: 1;">
        <h2>انتي مريم؟</h2>
        <button class="btn" onclick="nextStep(1, 2)">اي</button>
        <button class="btn" onclick="nextStep(1, 2)">صح</button>
    </div>

    <div id="step2" class="container">
        <h2>تدرين احمد شكد يحبج؟</h2>
        <button class="btn" onclick="nextStep(2, 3)">ادري</button>
        <button class="btn" onclick="nextStep(2, 3)">اي</button>
    </div>

    <div id="step3" class="container">
        <h2>تريدين تشوفين شي؟</h2>
        <button class="btn" onclick="nextStep(3, 4)">اي</button>
        <button class="btn" onclick="nextStep(3, 4)">لا</button>
    </div>

    <div id="step4" class="container">
        <h2>متاكدة؟</h2>
        <button class="btn" onclick="showFinal()">اي</button>
        <button class="btn" onclick="showFinal()">متأكدة</button>
    </div>

    <div id="final-section" class="container">
        <img src="majid.jpg" alt="ماجد المهندس">
        
        <div class="audio-player">
            <audio controls id="myAudio" playsinline>
                <source src="shlounak.mp3" type="audio/mpeg">
                متصفحك لا يدعم تشغيل الصوت.
            </audio>
            <p style="font-size: 12px; margin: 5px 0 0 0; color: #888;">اضغطي لتشغيل الأغنية</p>
        </div>

        <div class="poetry">
كلشي بحياتي من غرامك ما سلم

حبيبتي
لم تطاوعني اصابعي على كتابه هذه الاسطر
فأن رحيلكِ كان سلباً للروحَ ولم اعد اقوى على التذكر ومشاطرة الايام بافراحها واحزنها
حبيبتي بماذا ارثيك؟
باسطر غادرتها ملامح الحياه
حبيبتي عيونكِ وصوتكِ وكل الذكريات
لم أنسى أي شيء 
حتى في ساعة الممات
دنا الموتُ مني وأنا أتذكركِ 
فهل تعتقدين حُباً تحت الترابِ يموتُ؟ 
لا تذبلِ حين يغيب ساقيكِ
فحنان حُبكِ لازال يسقيني
حبيبتي، إنّي على عهد الهوى
أبقى وفيًّا، لا أرى لكِ بديلا
حبيبتي تركت لكِ حباً يكفيكِ اعوام من العشقِ
ف لا تكوني هواء قد يستشقِ من لا يستحقكِ
اذكريني في اي ليل سأتي على احر من الرصاصة

سنة سعيدة عليج يا مريم
        </div>
    </div>

    <script>
        function nextStep(current, next) {
            const currentDiv = document.getElementById('step' + current);
            currentDiv.style.opacity = '0';
            setTimeout(() => {
                currentDiv.style.display = 'none';
                const nextDiv = document.getElementById('step' + next);
                nextDiv.style.display = 'block';
                setTimeout(() => nextDiv.style.opacity = '1', 50);
            }, 500);
        }

        function showFinal() {
            const step4 = document.getElementById('step4');
            step4.style.opacity = '0';
            setTimeout(() => {
                step4.style.display = 'none';
                const final = document.getElementById('final-section');
                final.style.display = 'block';
                setTimeout(() => final.style.opacity = '1', 50);
                createSnow();
            }, 500);
        }

        // قلوب الخلفية
        function createBackgroundHearts() {
            const heartsContainer = document.getElementById('heartsContainer');
            for (let i = 0; i < 15; i++) {
                let heart = document.createElement('div');
                heart.className = 'heart-shape';
                heart.innerText = '❤';
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.animationDuration = (Math.random() * 10 + 10) + 's';
                heart.style.fontSize = (Math.random() * 20 + 10) + 'px';
                heartsContainer.appendChild(heart);
            }
        }
        createBackgroundHearts();

        function createSnow() {
            for (let i = 0; i < 50; i++) {
                let flake = document.createElement('div');
                flake.className = 'snowflake';
                flake.style.left = Math.random() * 100 + 'vw';
                flake.style.animationDuration = (Math.random() * 3 + 3) + 's';
                flake.style.width = Math.random() * 6 + 4 + 'px';
                flake.style.height = flake.style.width;
                document.body.appendChild(flake);
            }
        }
    </script>
</body>
</html>
